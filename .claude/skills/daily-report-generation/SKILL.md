---
name: "daily-report-generation"
description: "通过 Git MCP 工具分析今日提交记录，自动生成标准化工作日报。功能包括：Git 日志抓取、工作内容分类分析、数据统计以及日报文档格式化输出。"
---

# 日报生成专家 (Daily Report Generator)

本技能专注于根据 Git 提交历史自动生成每日工作日报。它通过调用 Git MCP 工具获取数据，智能分析工作领域和重点，并按固定模板输出结构化报告。

## 目标

1.  **自动化 (Automation)**：自动调用 Git 工具获取今日数据，无需人工手动查找提交记录。
2.  **结构化 (Structure)**：输出严格遵循“今日工作概览”、“工作重点”、“关键成果”、“问题与风险”、“数据统计”五大板块。
3.  **智能分析 (Analysis)**：根据 Commit 信息（如 `feat`, `fix`, `docs` 等）自动归类工作领域和提炼技术要点。
4.  **规范化 (Standardization)**：所有输出必须使用**中文**，并符合预设的 Markdown 模板格式。

## 执行流程 (Execution Flow)

当用户请求生成日报、总结今日工作时，请按以下步骤执行：

1.  **获取数据 (Fetch Data)**

    - 确定今日日期。
    - 调用 `mcp_Git_git_log` 工具：
        - `start_timestamp`: 今日零点 (例如 "2026-01-14 00:00:00")
        - `end_timestamp`: 今日23点59分59秒 (例如 "2026-01-14 23:59:59")
    - 统计代码变更量 (可选)：
        - 调用 `mcp_git_diff` 或 `git show --stat` 获取新增/删除行数。

2.  **内容分析 (Analyze Content)**

    - **工作概览**:
        - 统计工作时间跨度（最早提交时间 - 最晚提交时间）。
        - 总结提交总数、覆盖模块及主要工作节奏（如：上午文档，下午算法）。
    - **领域识别与内容提炼**:
        - `feat`: 新增功能（如：下楼模式、静止检测）。
        - `fix`: 问题修复。
        - `docs`: 文档维护（如：README 重写）。
        - `refactor`: 代码重构（如：参数调整、逻辑优化）。
    - **数据统计**:
        - **Git提交次数**: `git log` 条目数。
        - **修改文件数**: `git show --stat` 涉及文件总数。
        - **代码行数变动**: 新增行数、删除行数、净增行数。
        - **工作时长**: 估算值（最晚 - 最早提交时间，或默认 8 小时）。
        - **核心模块**: 涉及的主要文件夹/文件名。

3.  **生成报告 (Generate Report)**
    - 严格按照下方的 [日报模板] 进行填充。
    - **提交时间线**: 按时间倒序列出关键提交节点。
    - **明日建议**: 基于今日工作内容（如新功能需测试、参数需调优）提出后续建议。

## 日报模板 (Report Template)

```markdown
## 📋 今日工作概览

[2-3 句话概述今日工作情况、整体节奏和时间分配]

## 🎯 工作重点

### 1. [主要工作领域一，如：固件开发]

- [具体工作内容]
- [技术要点]

### 2. [主要工作领域二，如：硬件调试]

- [具体工作内容]

## ✅ 关键成果

- **[成果 1 标题]**: [具体描述]
- **[成果 2 标题]**: [具体描述]

## ⚠️ 问题与风险

- [问题描述及影响]
- [待解决事项]

## 📊 今日数据统计

| 指标       | 数值   |
| ---------- | ------ |
| 活动记录数 | X 条   |
| 工作时长   | X 小时 |
| 涉及领域   | X 个   |
```

## 示例

**输入 (Git Log)**:

- `feat(motor): add PID control loop`
- `fix(sensor): resolve I2C timeout issue`
- `docs: update API reference`

**输出 (Report)**:

```markdown
## 📋 今日工作概览

今日重点推进了电机控制算法的开发，并解决了传感器通信的稳定性问题。同时补充了相关 API 文档，整体研发节奏紧凑，核心功能模块进展顺利。

## 🎯 工作重点

### 1. 固件开发 (Motor Control)

- 实现 PID 控制闭环逻辑
- 优化控制响应速度

### 2. 硬件调试 (Sensor)

- 排查并修复 I2C 通信超时问题
- 验证传感器数据读取稳定性

### 3. 文档建设

- 更新 API 参考文档

## ✅ 关键成果

- **PID 控制算法**: 完成电机 PID 闭环控制代码实现。
- **I2C 稳定性修复**: 解决了传感器偶发的通信超时 bug。

## ⚠️ 问题与风险

- I2C 总线在高负载下仍需进一步压力测试。

## 📊 今日数据统计

| 指标       | 数值   |
| ---------- | ------ |
| 活动记录数 | 3 条   |
| 工作时长   | X 小时 |
| 涉及领域   | 3 个   |
```
