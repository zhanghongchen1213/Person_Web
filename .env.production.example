# ============================================
# Person_Web 生产环境变量配置模板
# ============================================
#
# 使用说明:
# 1. 复制此文件为 `.env.production`
# 2. 根据实际部署环境修改所有配置项
# 3. 确保 `.env.production` 已添加到 .gitignore (避免泄露敏感信息)
#
# 安全警告:
# - 请勿将包含真实密钥的 .env.production 文件提交到 Git 仓库
# - 所有 SECRET 和密码必须使用强随机字符串
# - 生产环境的 JWT_SECRET 长度建议 >= 32 字符
# ============================================

# --------------------------------------------
# 数据库配置 (Database Configuration)
# --------------------------------------------
# MySQL 连接字符串
# 格式: mysql://用户名:密码@主机:端口/数据库名?charset=utf8mb4
#
# Docker 部署时:
#   - 主机名使用 Docker Compose 中定义的服务名 (如 "mysql")
#   - 端口使用容器内部端口 (通常为 3306)
#
# 直接部署时:
#   - 主机名使用实际 MySQL 服务器地址 (如 "localhost" 或 IP)
#   - 确保数据库已创建且字符集为 utf8mb4
DATABASE_URL=mysql://root:password@mysql:3306/person_web?charset=utf8mb4

# --------------------------------------------
# 运行环境 (Runtime Environment)
# --------------------------------------------
# 指定 Node.js 运行模式
# 值: production (生产环境) | development (开发环境)
#
# 影响范围:
#   - 启用生产级别的错误处理和日志
#   - 禁用开发工具和详细堆栈信息
#   - 优化性能和资源使用
NODE_ENV=production

# --------------------------------------------
# JWT 认证配置 (JWT Authentication)
# --------------------------------------------
# JWT Token 签名密钥
# 用途: 用于签名和验证用户会话 Token
#
# 安全要求:
#   - 必须使用强随机字符串 (建议 32+ 字符)
#   - 生产环境切勿使用示例值
#   - 密钥泄露将导致所有用户会话失效
#
# 生成方法 (Linux/macOS):
#   openssl rand -base64 32
# 生成方法 (Node.js):
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your-secret-key-here

# --------------------------------------------
# GitHub OAuth 认证配置 (GitHub OAuth Configuration)
# --------------------------------------------
# 使用 GitHub OAuth 进行身份验证
#
# 配置步骤:
# 1. 访问 https://github.com/settings/developers
# 2. 点击 "New OAuth App" 创建新应用
# 3. 填写应用信息:
#    - Application name: 你的博客名称
#    - Homepage URL: https://your-domain.com (生产环境域名)
#    - Authorization callback URL: https://your-domain.com/api/auth/github/callback
# 4. 创建后获取 Client ID 和 Client Secret
# 5. 将 Client ID 和 Secret 填入下方配置
#
# 注意:
#   - Client Secret 是敏感信息，请妥善保管
#   - 生产环境建议使用 HTTPS
#   - Callback URL 必须与 GitHub OAuth App 中配置的一致
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_CALLBACK_URL=https://your-domain.com/api/auth/github/callback

# --------------------------------------------
# 管理员配置 (Admin Configuration)
# --------------------------------------------
# 管理员 GitHub 用户 ID
# 用途: 指定哪个用户拥有管理员权限
#
# 格式: github:你的GitHub用户ID
# 获取方法: 访问 https://api.github.com/users/你的GitHub用户名
# 示例: OWNER_OPEN_ID=github:12345678
#
# 注意:
#   - 只有此 OpenID 对应的用户可以访问后台管理功能
#   - 修改此值后需重启应用
OWNER_OPEN_ID=github:your_github_user_id_here

# --------------------------------------------
# 应用端口配置 (Application Port)
# --------------------------------------------
# Node.js 应用监听端口
# 默认值: 3000
#
# Docker 部署时:
#   - 容器内部端口 (通常保持 3000)
#   - 外部访问端口在 docker-compose.yml 中映射
#
# 直接部署时:
#   - 确保端口未被占用
#   - 使用 Nginx 反向代理时,此端口仅供内部访问
PORT=3000
